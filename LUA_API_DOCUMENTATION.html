<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marvel Rivals - Lua API Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #0a0e27;
            --bg-secondary: #151b3d;
            --bg-tertiary: #1e2749;
            --accent-primary: #00d4ff;
            --accent-secondary: #ff006e;
            --text-primary: #e0e6ff;
            --text-secondary: #9ba3c7;
            --text-muted: #5a6589;
            --border-color: #2a3458;
            --success: #00ff9f;
            --warning: #ffaa00;
            --danger: #ff4757;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--bg-primary) 0%, #1a1f3a 100%);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        header {
            background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%);
            padding: 40px 20px;
            text-align: center;
            border-bottom: 3px solid var(--accent-primary);
            box-shadow: 0 10px 30px rgba(0, 212, 255, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }

        h1 {
            font-size: 3em;
            background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            font-weight: 800;
            text-shadow: 0 0 30px rgba(0, 212, 255, 0.3);
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 1.2em;
            margin-bottom: 20px;
        }

        /* Search Bar */
        .search-container {
            margin: 20px 0;
            position: relative;
        }

        #searchInput {
            width: 100%;
            padding: 15px 50px 15px 20px;
            background: var(--bg-tertiary);
            border: 2px solid var(--border-color);
            border-radius: 10px;
            color: var(--text-primary);
            font-size: 16px;
            transition: all 0.3s ease;
        }

        #searchInput:focus {
            outline: none;
            border-color: var(--accent-primary);
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.2);
        }

        .search-icon {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
            font-size: 20px;
        }

        /* Navigation */
        .nav {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
            margin: 20px 0;
        }

        .nav-btn {
            padding: 10px 20px;
            background: var(--bg-tertiary);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .nav-btn:hover {
            background: var(--accent-primary);
            color: var(--bg-primary);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 212, 255, 0.3);
        }

        .nav-btn.active {
            background: var(--accent-primary);
            color: var(--bg-primary);
            border-color: var(--accent-primary);
        }

        /* Content Sections */
        .section {
            background: var(--bg-secondary);
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            border: 1px solid var(--border-color);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }

        .section:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 212, 255, 0.1);
        }

        .section h2 {
            color: var(--accent-primary);
            font-size: 2em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--border-color);
        }

        .section h3 {
            color: var(--accent-secondary);
            font-size: 1.5em;
            margin: 25px 0 15px 0;
        }

        /* API Function Cards */
        .api-function {
            background: var(--bg-tertiary);
            border-left: 4px solid var(--accent-primary);
            padding: 20px;
            margin: 15px 0;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .api-function:hover {
            border-left-width: 8px;
            padding-left: 24px;
            box-shadow: 0 5px 20px rgba(0, 212, 255, 0.15);
        }

        .function-name {
            font-family: 'Courier New', monospace;
            color: var(--accent-primary);
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .function-description {
            color: var(--text-secondary);
            margin: 10px 0;
        }

        .function-params {
            background: var(--bg-primary);
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        .param {
            color: var(--warning);
        }

        .type {
            color: var(--success);
        }

        .returns {
            color: var(--accent-secondary);
        }

        /* Code Blocks */
        .code-block {
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            overflow-x: auto;
            position: relative;
        }

        .code-block pre {
            margin: 0;
            font-family: 'Courier New', monospace;
            font-size: 0.95em;
            line-height: 1.6;
        }

        .code-header {
            color: var(--text-muted);
            font-size: 0.85em;
            margin-bottom: 10px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Syntax Highlighting */
        .keyword { color: #ff79c6; }
        .function-call { color: #50fa7b; }
        .string { color: #f1fa8c; }
        .number { color: #bd93f9; }
        .comment { color: #6272a4; font-style: italic; }
        .operator { color: #ff79c6; }
        .variable { color: #8be9fd; }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        th {
            background: var(--bg-tertiary);
            color: var(--accent-primary);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-size: 0.9em;
        }

        tr:hover {
            background: var(--bg-tertiary);
        }

        /* Badges */
        .badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.85em;
            font-weight: 600;
            margin-left: 10px;
        }

        .badge-new {
            background: var(--success);
            color: var(--bg-primary);
        }

        .badge-important {
            background: var(--warning);
            color: var(--bg-primary);
        }

        .badge-cooldown {
            background: var(--danger);
            color: white;
        }

        /* Collapsible */
        .collapsible {
            cursor: pointer;
            user-select: none;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .collapsible::before {
            content: '‚ñ∂';
            transition: transform 0.3s ease;
            color: var(--accent-primary);
        }

        .collapsible.active::before {
            transform: rotate(90deg);
        }

        .collapsible-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .collapsible-content.active {
            max-height: 5000px;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-muted);
            margin-top: 60px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            h1 {
                font-size: 2em;
            }

            .section {
                padding: 20px;
            }

            .nav {
                flex-direction: column;
            }
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 12px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-primary);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--accent-primary);
            border-radius: 6px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--accent-secondary);
        }

        /* Animation */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section {
            animation: fadeIn 0.5s ease;
        }

        .highlight {
            background: rgba(255, 255, 0, 0.2);
            padding: 2px 4px;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <header>
        <h1>‚ö° Marvel Rivals - Lua API Documentation</h1>
        <p class="subtitle">Complete guide to LuaJIT scripting for hero automation</p>
        <div class="search-container">
            <input type="text" id="searchInput" placeholder="Search API functions, examples, or data structures...">
            <span class="search-icon">üîç</span>
        </div>
        <div class="nav">
            <button class="nav-btn active" onclick="showSection('overview')">Overview</button>
            <button class="nav-btn" onclick="showSection('helpers')">Helper Functions</button>
            <button class="nav-btn" onclick="showSection('context')">Game Context</button>
            <button class="nav-btn" onclick="showSection('examples')">Examples</button>
            <button class="nav-btn" onclick="showSection('constants')">Constants</button>
        </div>
    </header>

    <div class="container">
        <!-- Overview Section -->
        <div id="section-overview" class="section">
            <h2>üìñ Overview</h2>
            <p>Marvel Rivals Lua scripting allows you to create custom hero automation using <strong>LuaJIT</strong> with aggressive JIT optimization. Scripts run at 60-144+ FPS and have access to complete game state, actor information, and input control.</p>

            <h3>Script Structure</h3>
            <div class="code-block">
                <div class="code-header">Basic Script Template</div>
                <pre><span class="comment">-- Default hero script</span>
<span class="comment">-- This script is called every frame (60-144+ times per second)</span>
<span class="keyword">function</span> <span class="function-call">on_game_tick</span>(ctx, helpers, config)
    <span class="comment">-- ctx: Game state (player info, enemies, abilities, etc.)</span>
    <span class="comment">-- helpers: Utility functions (UseAbility, CountEnemiesInFOV, etc.)</span>
    <span class="comment">-- config: Your script configuration values</span>

    <span class="keyword">return</span> <span class="keyword">true</span>
<span class="keyword">end</span></pre>
            </div>

            <h3>‚ö†Ô∏è Performance Guidelines</h3>
            <ul style="list-style-position: inside; color: var(--text-secondary); margin-left: 20px;">
                <li style="margin: 10px 0;">‚úÖ Scripts run every frame - keep code efficient!</li>
                <li style="margin: 10px 0;">‚ùå Avoid <code>string.format()</code>, string concatenation, and table allocations in hot loops</li>
                <li style="margin: 10px 0;">‚úÖ Use local variables and cache frequently accessed values</li>
                <li style="margin: 10px 0;">‚úÖ LuaJIT optimizations are enabled - write JIT-friendly code</li>
                <li style="margin: 10px 0;">üîÑ Press <strong>F8</strong> to reload your script after making changes</li>
            </ul>

            <h3>Global Cooldown</h3>
            <p>All input functions (<code>UseAbility</code>, <code>SendSkill</code>) have a <strong>50ms global cooldown</strong> to prevent spam. Use <code>helpers.CanDoAction()</code> to check if you can send an input.</p>
        </div>

        <!-- Helper Functions Section -->
        <div id="section-helpers" class="section" style="display: none;">
            <h2>üõ†Ô∏è Helper Functions</h2>
            <p>The <code>helpers</code> table provides utility functions for game interaction and queries.</p>

            <!-- Input Functions -->
            <h3 class="collapsible">‚å®Ô∏è Input Functions</h3>
            <div class="collapsible-content">
                <div class="api-function">
                    <div class="function-name">helpers.UseAbility(ability_id) <span class="badge badge-cooldown">50ms Cooldown</span></div>
                    <div class="function-description">Presses and releases an ability key (press on current frame, auto-release on next frame).</div>
                    <div class="function-params">
                        <span class="param">ability_id</span>: <span class="type">AbilityType</span> - Ability constant (e.g., helpers.PRIMARY_ATTACK)<br>
                        <span class="returns">Returns</span>: <span class="type">boolean</span> - true if input was sent, false if on cooldown or invalid
                    </div>
                    <div class="code-block">
                        <div class="code-header">Example</div>
                        <pre><span class="keyword">if</span> helpers.<span class="function-call">CanDoAction</span>() <span class="keyword">then</span>
    helpers.<span class="function-call">UseAbility</span>(helpers.PRIMARY_ATTACK)
<span class="keyword">end</span></pre>
                    </div>
                </div>

                <div class="api-function">
                    <div class="function-name">helpers.PressKey(ability_id) <span class="badge badge-new">NEW</span></div>
                    <div class="function-description">Presses an ability key WITHOUT auto-release. You must manually call ReleaseKey() later.</div>
                    <div class="function-params">
                        <span class="param">ability_id</span>: <span class="type">AbilityType</span> - Ability constant<br>
                        <span class="returns">Returns</span>: <span class="type">boolean</span> - true if successful
                    </div>
                    <div class="code-block">
                        <div class="code-header">Example - Hold key while target is alive</div>
                        <pre><span class="keyword">local</span> target = helpers.<span class="function-call">GetAimbotTarget</span>()
<span class="keyword">if</span> target <span class="keyword">and</span> target.is_alive <span class="keyword">then</span>
    helpers.<span class="function-call">PressKey</span>(helpers.PRIMARY_ATTACK)
<span class="keyword">else</span>
    helpers.<span class="function-call">ReleaseKey</span>(helpers.PRIMARY_ATTACK)
<span class="keyword">end</span></pre>
                    </div>
                </div>

                <div class="api-function">
                    <div class="function-name">helpers.ReleaseKey(ability_id) <span class="badge badge-new">NEW</span></div>
                    <div class="function-description">Releases a previously pressed key.</div>
                    <div class="function-params">
                        <span class="param">ability_id</span>: <span class="type">AbilityType</span> - Ability constant<br>
                        <span class="returns">Returns</span>: <span class="type">boolean</span> - true if successful
                    </div>
                </div>

                <div class="api-function">
                    <div class="function-name">helpers.CanDoAction()</div>
                    <div class="function-description">Checks if 50ms has passed since last input (global cooldown).</div>
                    <div class="function-params">
                        <span class="returns">Returns</span>: <span class="type">boolean</span> - true if you can send input
                    </div>
                </div>

                <div class="api-function">
                    <div class="function-name">helpers.SendSkill(vk_key) <span class="badge badge-cooldown">50ms Cooldown</span></div>
                    <div class="function-description">Low-level function to send any VK key code (press + auto-release next frame).</div>
                    <div class="function-params">
                        <span class="param">vk_key</span>: <span class="type">number</span> - Windows Virtual Key code<br>
                        <span class="returns">Returns</span>: <span class="type">boolean</span> - true if sent
                    </div>
                </div>

                <div class="api-function">
                    <div class="function-name">helpers.IsKeyHeld(vk_code)</div>
                    <div class="function-description">Checks if a specific VK key is currently held down by the player.</div>
                    <div class="function-params">
                        <span class="param">vk_code</span>: <span class="type">number</span> - Virtual Key code (e.g., 0x41 for 'A')<br>
                        <span class="returns">Returns</span>: <span class="type">boolean</span> - true if key is held
                    </div>
                    <div class="code-block">
                        <div class="code-header">Example - Manual activation key</div>
                        <pre><span class="keyword">if</span> helpers.<span class="function-call">IsKeyHeld</span>(<span class="number">0x58</span>) <span class="keyword">then</span> <span class="comment">-- 'X' key</span>
    <span class="comment">-- Only execute combo when X is held</span>
    helpers.<span class="function-call">UseAbility</span>(helpers.ABILITY_1)
<span class="keyword">end</span></pre>
                    </div>
                </div>
            </div>

            <!-- Enemy Query Functions -->
            <h3 class="collapsible">üéØ Enemy Query Functions</h3>
            <div class="collapsible-content">
                <div class="api-function">
                    <div class="function-name">helpers.GetClosestEnemy()</div>
                    <div class="function-description">Returns the closest enemy actor (alive, any team).</div>
                    <div class="function-params">
                        <span class="returns">Returns</span>: <span class="type">ActorContext</span> or <span class="type">nil</span>
                    </div>
                </div>

                <div class="api-function">
                    <div class="function-name">helpers.GetClosestVisibleEnemy()</div>
                    <div class="function-description">Returns the closest visible enemy actor.</div>
                    <div class="function-params">
                        <span class="returns">Returns</span>: <span class="type">ActorContext</span> or <span class="type">nil</span>
                    </div>
                </div>

                <div class="api-function">
                    <div class="function-name">helpers.GetAimbotTarget()</div>
                    <div class="function-description">Returns the current aimbot target (if aimbot is active).</div>
                    <div class="function-params">
                        <span class="returns">Returns</span>: <span class="type">ActorContext</span> or <span class="type">nil</span>
                    </div>
                    <div class="code-block">
                        <div class="code-header">Example - Shoot at aimbot target</div>
                        <pre><span class="keyword">if</span> ctx.has_aimbot_target <span class="keyword">then</span>
    <span class="keyword">local</span> target = helpers.<span class="function-call">GetAimbotTarget</span>()
    <span class="keyword">if</span> target <span class="keyword">and</span> helpers.<span class="function-call">CanDoAction</span>() <span class="keyword">then</span>
        helpers.<span class="function-call">UseAbility</span>(helpers.PRIMARY_ATTACK)
    <span class="keyword">end</span>
<span class="keyword">end</span></pre>
                    </div>
                </div>

                <div class="api-function">
                    <div class="function-name">helpers.CountEnemiesInRange(range)</div>
                    <div class="function-description">Counts alive enemies within specified range (meters).</div>
                    <div class="function-params">
                        <span class="param">range</span>: <span class="type">number</span> - Maximum distance in meters<br>
                        <span class="returns">Returns</span>: <span class="type">number</span> - Count of enemies
                    </div>
                </div>

                <div class="api-function">
                    <div class="function-name">helpers.CountVisibleEnemiesInRange(range)</div>
                    <div class="function-description">Counts alive and visible enemies within range.</div>
                    <div class="function-params">
                        <span class="param">range</span>: <span class="type">number</span> - Maximum distance in meters<br>
                        <span class="returns">Returns</span>: <span class="type">number</span>
                    </div>
                </div>

                <div class="api-function">
                    <div class="function-name">helpers.CountEnemiesInFOV(fov, max_distance)</div>
                    <div class="function-description">Counts enemies within screen FOV (pixels from crosshair).</div>
                    <div class="function-params">
                        <span class="param">fov</span>: <span class="type">number</span> - FOV radius in pixels from screen center<br>
                        <span class="param">max_distance</span>: <span class="type">number</span> - Optional max distance in meters (-1 for unlimited)<br>
                        <span class="returns">Returns</span>: <span class="type">number</span>
                    </div>
                </div>

                <div class="api-function">
                    <div class="function-name">helpers.CountVisibleEnemiesInFOV(fov, max_distance)</div>
                    <div class="function-description">Counts visible enemies within FOV.</div>
                    <div class="function-params">
                        <span class="param">fov</span>: <span class="type">number</span> - FOV radius in pixels<br>
                        <span class="param">max_distance</span>: <span class="type">number</span> - Optional max distance<br>
                        <span class="returns">Returns</span>: <span class="type">number</span>
                    </div>
                    <div class="code-block">
                        <div class="code-header">Example - Conditional ability based on enemy count</div>
                        <pre><span class="keyword">local</span> enemies_in_view = helpers.<span class="function-call">CountVisibleEnemiesInFOV</span>(<span class="number">150</span>, <span class="number">20</span>)
<span class="keyword">if</span> enemies_in_view >= <span class="number">2</span> <span class="keyword">and</span> helpers.<span class="function-call">CanDoAction</span>() <span class="keyword">then</span>
    helpers.<span class="function-call">UseAbility</span>(helpers.ULTIMATE)
<span class="keyword">end</span></pre>
                    </div>
                </div>
            </div>

            <!-- Ally Query Functions -->
            <h3 class="collapsible">üë• Ally Query Functions</h3>
            <div class="collapsible-content">
                <div class="api-function">
                    <div class="function-name">helpers.CountAlliesInFOV(fov, max_distance)</div>
                    <div class="function-description">Counts allies within FOV.</div>
                    <div class="function-params">
                        <span class="param">fov</span>: <span class="type">number</span> - FOV radius in pixels<br>
                        <span class="param">max_distance</span>: <span class="type">number</span> - Optional max distance (-1 for unlimited)<br>
                        <span class="returns">Returns</span>: <span class="type">number</span>
                    </div>
                </div>

                <div class="api-function">
                    <div class="function-name">helpers.CountVisibleAlliesInFOV(fov, max_distance)</div>
                    <div class="function-description">Counts visible allies within FOV.</div>
                    <div class="function-params">
                        <span class="param">fov</span>: <span class="type">number</span> - FOV radius in pixels<br>
                        <span class="param">max_distance</span>: <span class="type">number</span> - Optional max distance<br>
                        <span class="returns">Returns</span>: <span class="type">number</span>
                    </div>
                    <div class="code-block">
                        <div class="code-header">Example - Heal allies in FOV</div>
                        <pre><span class="keyword">local</span> allies_near = helpers.<span class="function-call">CountVisibleAlliesInFOV</span>(<span class="number">200</span>, <span class="number">15</span>)
<span class="keyword">if</span> allies_near >= <span class="number">3</span> <span class="keyword">then</span>
    helpers.<span class="function-call">UseAbility</span>(helpers.ABILITY_2) <span class="comment">-- AoE heal</span>
<span class="keyword">end</span></pre>
                    </div>
                </div>
            </div>

            <!-- Vision Functions -->
            <h3 class="collapsible">üëÅÔ∏è Vision Functions</h3>
            <div class="collapsible-content">
                <div class="api-function">
                    <div class="function-name">helpers.IsLookingAt(actor_state, max_fov)</div>
                    <div class="function-description">Checks if camera is looking at a specific actor (FOV check).</div>
                    <div class="function-params">
                        <span class="param">actor_state</span>: <span class="type">number</span> - Actor state ID<br>
                        <span class="param">max_fov</span>: <span class="type">number</span> - Optional max FOV in pixels (default: 5.0)<br>
                        <span class="returns">Returns</span>: <span class="type">boolean</span>
                    </div>
                    <div class="code-block">
                        <div class="code-header">Example - Shoot when looking at target</div>
                        <pre><span class="keyword">local</span> target = helpers.<span class="function-call">GetAimbotTarget</span>()
<span class="keyword">if</span> target <span class="keyword">and</span> helpers.<span class="function-call">IsLookingAt</span>(target.actor_state, <span class="number">10</span>) <span class="keyword">then</span>
    helpers.<span class="function-call">UseAbility</span>(helpers.PRIMARY_ATTACK)
<span class="keyword">end</span></pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- Game Context Section -->
        <div id="section-context" class="section" style="display: none;">
            <h2>üéÆ Game Context (ctx)</h2>
            <p>The <code>ctx</code> parameter provides complete game state information updated every frame.</p>

            <h3 class="collapsible">üßç Local Player (ctx.local_player)</h3>
            <div class="collapsible-content">
                <table>
                    <thead>
                        <tr>
                            <th>Field</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>pawn</td><td>number</td><td>Player pawn pointer</td></tr>
                        <tr><td>controller</td><td>number</td><td>Player controller pointer</td></tr>
                        <tr><td>hero_id</td><td>number</td><td>Current hero ID</td></tr>
                        <tr><td>team_id</td><td>number</td><td>Team ID (0 or 1)</td></tr>
                        <tr><td>camera_location</td><td>FVector</td><td>Camera world position {X, Y, Z}</td></tr>
                        <tr><td>camera_rotation</td><td>FVector</td><td>Camera rotation {Pitch, Yaw, Roll}</td></tr>
                        <tr><td>camera_fov</td><td>number</td><td>Camera field of view</td></tr>
                        <tr><td>buffs</td><td>array</td><td>Active buffs/debuffs on player</td></tr>
                    </tbody>
                </table>
                <div class="code-block">
                    <div class="code-header">Example - Check player buffs</div>
                    <pre><span class="keyword">for</span> _, buff <span class="keyword">in</span> <span class="function-call">ipairs</span>(ctx.local_player.buffs) <span class="keyword">do</span>
    <span class="keyword">if</span> buff.hash == <span class="number">12345</span> <span class="keyword">then</span>
        <span class="comment">-- Player has specific buff</span>
        helpers.<span class="function-call">UseAbility</span>(helpers.ABILITY_1)
    <span class="keyword">end</span>
<span class="keyword">end</span></pre>
                </div>
            </div>

            <h3 class="collapsible">üë• Actors (ctx.actors[])</h3>
            <div class="collapsible-content">
                <p>Array of all actors (enemies, allies, etc.) in the game. 1-indexed Lua array.</p>
                <table>
                    <thead>
                        <tr>
                            <th>Field</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>actor_state</td><td>number</td><td>Unique actor state ID</td></tr>
                        <tr><td>pawn</td><td>number</td><td>Pawn pointer</td></tr>
                        <tr><td>hero_id</td><td>number</td><td>Hero character ID</td></tr>
                        <tr><td>team_id</td><td>number</td><td>Team ID</td></tr>
                        <tr><td>is_alive</td><td>boolean</td><td>Is actor alive</td></tr>
                        <tr><td>is_same_team</td><td>boolean</td><td>Same team as player</td></tr>
                        <tr><td>is_visible</td><td>boolean</td><td>Is visible to player</td></tr>
                        <tr><td>current_health</td><td>number</td><td>Current HP</td></tr>
                        <tr><td>max_health</td><td>number</td><td>Maximum HP</td></tr>
                        <tr><td>health_percentage</td><td>number</td><td>Health % (0-100)</td></tr>
                        <tr><td>world_position</td><td>FVector</td><td>World position {X, Y, Z}</td></tr>
                        <tr><td>velocity</td><td>FVector</td><td>Velocity vector</td></tr>
                        <tr><td>distance_world</td><td>number</td><td>Distance in world units</td></tr>
                        <tr><td>distance_meters</td><td>number</td><td>Distance in meters</td></tr>
                        <tr><td>bone_head</td><td>FVector</td><td>Head bone screen position</td></tr>
                        <tr><td>bone_*</td><td>FVector</td><td>Various skeleton bones (screen/world space)</td></tr>
                        <tr><td>buffs</td><td>array</td><td>Active buffs on this actor</td></tr>
                        <tr><td>abilities</td><td>table</td><td>Actor's abilities (same structure as ctx.abilities)</td></tr>
                    </tbody>
                </table>
                <div class="code-block">
                    <div class="code-header">Example - Iterate through enemies</div>
                    <pre><span class="keyword">for</span> _, actor <span class="keyword">in</span> <span class="function-call">ipairs</span>(ctx.actors) <span class="keyword">do</span>
    <span class="keyword">if</span> actor.is_alive <span class="keyword">and</span> <span class="keyword">not</span> actor.is_same_team <span class="keyword">then</span>
        <span class="keyword">if</span> actor.distance_meters < <span class="number">15</span> <span class="keyword">and</span> actor.health_percentage < <span class="number">30</span> <span class="keyword">then</span>
            <span class="comment">-- Low health enemy nearby - execute!</span>
            helpers.<span class="function-call">UseAbility</span>(helpers.MELEE_ATTACK)
        <span class="keyword">end</span>
    <span class="keyword">end</span>
<span class="keyword">end</span></pre>
                </div>
            </div>

            <h3 class="collapsible">üéØ Abilities (ctx.abilities[])</h3>
            <div class="collapsible-content">
                <p>Table of hero abilities indexed by bind ID. Each ability has an array of ability states (some binds can have multiple abilities).</p>
                <table>
                    <thead>
                        <tr>
                            <th>Field</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>can_activate</td><td>boolean</td><td>Can be activated now</td></tr>
                        <tr><td>can_preactivate</td><td>boolean</td><td>Can be pre-activated</td></tr>
                        <tr><td>is_activated</td><td>boolean</td><td>Currently activated</td></tr>
                        <tr><td>is_blocked</td><td>boolean</td><td>Blocked (stunned, etc.)</td></tr>
                        <tr><td>is_on_cooldown</td><td>boolean</td><td>On cooldown</td></tr>
                        <tr><td>energy_percent</td><td>number</td><td>Energy/charge percentage (0-100)</td></tr>
                    </tbody>
                </table>
                <div class="code-block">
                    <div class="code-header">Example - Check ability cooldown</div>
                    <pre><span class="comment">-- Check if ability 1 (bind index 4) is ready</span>
<span class="keyword">if</span> ctx.abilities[<span class="number">4</span>] <span class="keyword">and</span> ctx.abilities[<span class="number">4</span>][<span class="number">1</span>] <span class="keyword">then</span>
    <span class="keyword">local</span> ability = ctx.abilities[<span class="number">4</span>][<span class="number">1</span>]
    <span class="keyword">if</span> ability.can_activate <span class="keyword">and</span> <span class="keyword">not</span> ability.is_blocked <span class="keyword">then</span>
        helpers.<span class="function-call">UseAbility</span>(helpers.ABILITY_1)
    <span class="keyword">end</span>
<span class="keyword">end</span></pre>
                </div>
            </div>

            <h3 class="collapsible">üñ•Ô∏è Screen & Input State</h3>
            <div class="collapsible-content">
                <table>
                    <thead>
                        <tr>
                            <th>Field</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>screen_width</td><td>number</td><td>Screen width in pixels</td></tr>
                        <tr><td>screen_height</td><td>number</td><td>Screen height in pixels</td></tr>
                        <tr><td>screen_center_x</td><td>number</td><td>Screen center X coordinate</td></tr>
                        <tr><td>screen_center_y</td><td>number</td><td>Screen center Y coordinate</td></tr>
                        <tr><td>aimbot_key_pressed</td><td>boolean</td><td>Is aimbot key pressed</td></tr>
                        <tr><td>trigger_key_pressed</td><td>boolean</td><td>Is trigger key pressed</td></tr>
                        <tr><td>has_aimbot_target</td><td>boolean</td><td>Does aimbot have a target</td></tr>
                        <tr><td>aimbot_target_actor_state</td><td>number</td><td>Aimbot target actor ID</td></tr>
                        <tr><td>aimbot_target_fov</td><td>number</td><td>Target FOV distance</td></tr>
                    </tbody>
                </table>
            </div>

            <h3 class="collapsible">üíé Buff/Debuff Structure</h3>
            <div class="collapsible-content">
                <p>Used in <code>ctx.local_player.buffs[]</code> and <code>actor.buffs[]</code></p>
                <table>
                    <thead>
                        <tr>
                            <th>Field</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>hash</td><td>number</td><td>Unique buff ID hash</td></tr>
                        <tr><td>name</td><td>string</td><td>Buff name (for debugging)</td></tr>
                        <tr><td>count</td><td>number</td><td>Stack count</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Examples Section -->
        <div id="section-examples" class="section" style="display: none;">
            <h2>üí° Complete Examples</h2>

            <h3>Example 1: Auto-shoot at aimbot target</h3>
            <div class="code-block">
                <pre><span class="keyword">function</span> <span class="function-call">on_game_tick</span>(ctx, helpers, config)
    <span class="keyword">if</span> ctx.has_aimbot_target <span class="keyword">then</span>
        <span class="keyword">local</span> target = helpers.<span class="function-call">GetAimbotTarget</span>()
        <span class="keyword">if</span> target <span class="keyword">and</span> helpers.<span class="function-call">IsLookingAt</span>(target.actor_state, <span class="number">5</span>) <span class="keyword">then</span>
            <span class="keyword">if</span> helpers.<span class="function-call">CanDoAction</span>() <span class="keyword">then</span>
                helpers.<span class="function-call">UseAbility</span>(helpers.PRIMARY_ATTACK)
            <span class="keyword">end</span>
        <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="keyword">return</span> <span class="keyword">true</span>
<span class="keyword">end</span></pre>
            </div>

            <h3>Example 2: Conditional ultimate based on enemy count</h3>
            <div class="code-block">
                <pre><span class="keyword">function</span> <span class="function-call">on_game_tick</span>(ctx, helpers, config)
    <span class="comment">-- Count enemies in FOV within 20 meters</span>
    <span class="keyword">local</span> enemies = helpers.<span class="function-call">CountVisibleEnemiesInFOV</span>(<span class="number">200</span>, <span class="number">20</span>)

    <span class="comment">-- Use ultimate if 3+ enemies nearby</span>
    <span class="keyword">if</span> enemies >= <span class="number">3</span> <span class="keyword">and</span> helpers.<span class="function-call">CanDoAction</span>() <span class="keyword">then</span>
        <span class="comment">-- Check if ultimate is ready</span>
        <span class="keyword">if</span> ctx.abilities[<span class="number">7</span>] <span class="keyword">and</span> ctx.abilities[<span class="number">7</span>][<span class="number">1</span>] <span class="keyword">then</span>
            <span class="keyword">local</span> ult = ctx.abilities[<span class="number">7</span>][<span class="number">1</span>]
            <span class="keyword">if</span> ult.can_activate <span class="keyword">and</span> <span class="keyword">not</span> ult.is_blocked <span class="keyword">then</span>
                helpers.<span class="function-call">UseAbility</span>(helpers.ULTIMATE)
            <span class="keyword">end</span>
        <span class="keyword">end</span>
    <span class="keyword">end</span>

    <span class="keyword">return</span> <span class="keyword">true</span>
<span class="keyword">end</span></pre>
            </div>

            <h3>Example 3: Hold fire button based on buff state</h3>
            <div class="code-block">
                <pre><span class="keyword">function</span> <span class="function-call">on_game_tick</span>(ctx, helpers, config)
    <span class="comment">-- Check if player has damage buff</span>
    <span class="keyword">local</span> has_damage_buff = <span class="keyword">false</span>
    <span class="keyword">for</span> _, buff <span class="keyword">in</span> <span class="function-call">ipairs</span>(ctx.local_player.buffs) <span class="keyword">do</span>
        <span class="keyword">if</span> buff.hash == <span class="number">123456</span> <span class="keyword">then</span> <span class="comment">-- Replace with actual buff hash</span>
            has_damage_buff = <span class="keyword">true</span>
            <span class="keyword">break</span>
        <span class="keyword">end</span>
    <span class="keyword">end</span>

    <span class="comment">-- Hold primary attack while buffed</span>
    <span class="keyword">if</span> has_damage_buff <span class="keyword">then</span>
        helpers.<span class="function-call">PressKey</span>(helpers.PRIMARY_ATTACK)
    <span class="keyword">else</span>
        helpers.<span class="function-call">ReleaseKey</span>(helpers.PRIMARY_ATTACK)
    <span class="keyword">end</span>

    <span class="keyword">return</span> <span class="keyword">true</span>
<span class="keyword">end</span></pre>
            </div>

            <h3>Example 4: Multi-condition combo execution</h3>
            <div class="code-block">
                <pre><span class="keyword">function</span> <span class="function-call">on_game_tick</span>(ctx, helpers, config)
    <span class="keyword">if</span> <span class="keyword">not</span> helpers.<span class="function-call">CanDoAction</span>() <span class="keyword">then</span>
        <span class="keyword">return</span> <span class="keyword">true</span>
    <span class="keyword">end</span>

    <span class="keyword">local</span> target = helpers.<span class="function-call">GetClosestVisibleEnemy</span>()
    <span class="keyword">if</span> <span class="keyword">not</span> target <span class="keyword">then</span>
        <span class="keyword">return</span> <span class="keyword">true</span>
    <span class="keyword">end</span>

    <span class="comment">-- Combo conditions:</span>
    <span class="comment">-- 1. Enemy within 15 meters</span>
    <span class="comment">-- 2. Enemy health below 50%</span>
    <span class="comment">-- 3. Looking at enemy</span>
    <span class="keyword">if</span> target.distance_meters < <span class="number">15</span> <span class="keyword">and</span>
       target.health_percentage < <span class="number">50</span> <span class="keyword">and</span>
       helpers.<span class="function-call">IsLookingAt</span>(target.actor_state, <span class="number">10</span>) <span class="keyword">then</span>

        <span class="comment">-- Execute combo: E -> Shift -> LMB</span>
        helpers.<span class="function-call">UseAbility</span>(helpers.ABILITY_1)
    <span class="keyword">end</span>

    <span class="keyword">return</span> <span class="keyword">true</span>
<span class="keyword">end</span></pre>
            </div>

            <h3>Example 5: Advanced enemy filtering</h3>
            <div class="code-block">
                <pre><span class="keyword">function</span> <span class="function-call">on_game_tick</span>(ctx, helpers, config)
    <span class="comment">-- Find low health enemies in range</span>
    <span class="keyword">local</span> low_health_enemies = {}

    <span class="keyword">for</span> _, actor <span class="keyword">in</span> <span class="function-call">ipairs</span>(ctx.actors) <span class="keyword">do</span>
        <span class="keyword">if</span> actor.is_alive <span class="keyword">and</span>
           <span class="keyword">not</span> actor.is_same_team <span class="keyword">and</span>
           actor.is_visible <span class="keyword">and</span>
           actor.distance_meters < <span class="number">20</span> <span class="keyword">and</span>
           actor.health_percentage < <span class="number">30</span> <span class="keyword">then</span>

            <span class="function-call">table.insert</span>(low_health_enemies, actor)
        <span class="keyword">end</span>
    <span class="keyword">end</span>

    <span class="comment">-- If we found low health targets, prioritize them</span>
    <span class="keyword">if</span> #low_health_enemies > <span class="number">0</span> <span class="keyword">and</span> helpers.<span class="function-call">CanDoAction</span>() <span class="keyword">then</span>
        helpers.<span class="function-call">UseAbility</span>(helpers.MELEE_ATTACK)
    <span class="keyword">end</span>

    <span class="keyword">return</span> <span class="keyword">true</span>
<span class="keyword">end</span></pre>
            </div>
        </div>

        <!-- Constants Section -->
        <div id="section-constants" class="section" style="display: none;">
            <h2>üìã Constants & Enums</h2>

            <h3>Ability Type Constants</h3>
            <p>Use these constants with <code>helpers.UseAbility()</code>, <code>helpers.PressKey()</code>, and <code>helpers.ReleaseKey()</code>.</p>
            <table>
                <thead>
                    <tr>
                        <th>Constant</th>
                        <th>Value</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td><code>helpers.PRIMARY_ATTACK</code></td><td>0</td><td>Left mouse button / primary fire</td></tr>
                    <tr><td><code>helpers.SECONDARY_ATTACK</code></td><td>1</td><td>Right mouse button / secondary fire</td></tr>
                    <tr><td><code>helpers.RELOAD</code></td><td>2</td><td>Reload key</td></tr>
                    <tr><td><code>helpers.MELEE_ATTACK</code></td><td>3</td><td>Melee attack key</td></tr>
                    <tr><td><code>helpers.ABILITY_1</code></td><td>4</td><td>Ability 1 (usually E)</td></tr>
                    <tr><td><code>helpers.ABILITY_2</code></td><td>5</td><td>Ability 2 (usually Shift)</td></tr>
                    <tr><td><code>helpers.ABILITY_3</code></td><td>6</td><td>Ability 3 (usually Q)</td></tr>
                    <tr><td><code>helpers.ULTIMATE</code></td><td>7</td><td>Ultimate ability</td></tr>
                    <tr><td><code>helpers.TEAMUP_ABILITY_1</code></td><td>8</td><td>Team-up ability 1</td></tr>
                    <tr><td><code>helpers.TEAMUP_ABILITY_2</code></td><td>9</td><td>Team-up ability 2</td></tr>
                    <tr><td><code>helpers.TEAMUP_ABILITY_3</code></td><td>10</td><td>Team-up ability 3</td></tr>
                </tbody>
            </table>

            <h3>Common Virtual Key Codes (for IsKeyHeld)</h3>
            <table>
                <thead>
                    <tr>
                        <th>Key</th>
                        <th>VK Code (Hex)</th>
                        <th>VK Code (Dec)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>A-Z Keys</td><td>0x41-0x5A</td><td>65-90</td></tr>
                    <tr><td>0-9 Keys</td><td>0x30-0x39</td><td>48-57</td></tr>
                    <tr><td>Space</td><td>0x20</td><td>32</td></tr>
                    <tr><td>Shift</td><td>0x10</td><td>16</td></tr>
                    <tr><td>Control</td><td>0x11</td><td>17</td></tr>
                    <tr><td>Alt</td><td>0x12</td><td>18</td></tr>
                    <tr><td>Left Mouse</td><td>0x01</td><td>1</td></tr>
                    <tr><td>Right Mouse</td><td>0x02</td><td>2</td></tr>
                    <tr><td>Middle Mouse</td><td>0x04</td><td>4</td></tr>
                </tbody>
            </table>

            <h3>FVector Structure</h3>
            <div class="code-block">
                <pre><span class="comment">-- FVector is a table with X, Y, Z components</span>
<span class="keyword">local</span> pos = actor.world_position
<span class="keyword">local</span> x = pos.X
<span class="keyword">local</span> y = pos.Y
<span class="keyword">local</span> z = pos.Z</pre>
            </div>
        </div>
    </div>

    <footer>
        <p>Marvel Rivals Lua API Documentation - Generated from LuaIntegration.h</p>
        <p>Powered by LuaJIT with aggressive JIT optimization | Press F8 to reload scripts</p>
    </footer>

    <script>
        // Section switching
        function showSection(sectionName) {
            // Hide all sections
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => {
                section.style.display = 'none';
            });

            // Show selected section
            document.getElementById('section-' + sectionName).style.display = 'block';

            // Update nav buttons
            const navBtns = document.querySelectorAll('.nav-btn');
            navBtns.forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Collapsible sections
        function toggleCollapsible(element) {
            element.classList.toggle('active');
            const content = element.nextElementSibling;
            content.classList.toggle('active');
        }

        // Initialize all collapsibles as closed
        document.addEventListener('DOMContentLoaded', function() {
            const collapsibles = document.querySelectorAll('.collapsible');
            collapsibles.forEach(col => {
                col.addEventListener('click', function() {
                    toggleCollapsible(this);
                });
            });
        });

        // Search functionality
        document.getElementById('searchInput').addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();

            if (searchTerm === '') {
                // Clear all highlights
                document.querySelectorAll('.highlight').forEach(el => {
                    el.outerHTML = el.innerHTML;
                });
                return;
            }

            // Search in all sections
            const sections = document.querySelectorAll('.section');
            let foundInSection = null;

            sections.forEach(section => {
                const text = section.textContent.toLowerCase();
                if (text.includes(searchTerm)) {
                    if (!foundInSection) {
                        foundInSection = section;
                    }
                }
            });

            // Show the first section with results
            if (foundInSection) {
                sections.forEach(s => s.style.display = 'none');
                foundInSection.style.display = 'block';

                // Update nav
                const sectionId = foundInSection.id.replace('section-', '');
                document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));

                // Expand all collapsibles in the section
                foundInSection.querySelectorAll('.collapsible').forEach(col => {
                    col.classList.add('active');
                    col.nextElementSibling.classList.add('active');
                });
            }
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            // ESC to clear search
            if (e.key === 'Escape') {
                document.getElementById('searchInput').value = '';
                document.getElementById('searchInput').dispatchEvent(new Event('input'));
            }

            // Ctrl+F to focus search
            if (e.ctrlKey && e.key === 'f') {
                e.preventDefault();
                document.getElementById('searchInput').focus();
            }
        });

        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });
    </script>
</body>
</html>
